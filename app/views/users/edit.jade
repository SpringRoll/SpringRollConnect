extend ../templates/normal

append title
	| Edit User -

append content
	.col-md-8.col-md-offset-2.col-sm-10.col-sm-offset-1
		.panel.panel-default
			.panel-heading
				h2.panel-title Edit User
			form.panel-body.form-horizontal(action=url, method='post')
				include ../partials/feedback
				.form-group
					label.control-label.col-sm-3(for="active") Active
					.col-sm-9
						.checkbox: label
							input(type='checkbox', name='active', value='1', checked=editUser.active) 
							span.help-inline If the user can login
				.form-group
					label.control-label.col-sm-3(for="name") Name
					.col-sm-9
						input.form-control(type='text', name='name', value=editUser.name, required, autofocus)
				.form-group(data-unique="/users/search" data-ignore=editUser.username)
					label.control-label.col-sm-3(for="username") Username
					.col-sm-9
						input.form-control(type='text', name='username', value=editUser.username, required, autofocus)
						include ../partials/form-control-feedback
				.form-group(data-unique="/users/search" data-ignore=editUser.email)
					label.control-label.col-sm-3(for="email") Email
					.col-sm-9
						input.form-control(type='text', name='email', value=editUser.email, required, autofocus)
						include ../partials/form-control-feedback
				.form-group
					label.control-label.col-sm-3(for="password") Password
					.col-sm-9
						input.form-control(type='password', name='password')
				.form-group
					label.control-label.col-sm-3(for="confirm") Confirm
					.col-sm-9
						input.form-control(type='password', name='confirm')
				.form-group
					label.control-label.col-sm-3 Global Privilege
					.col-sm-9
						.radio: label
							input(type='radio' name='privilege' value="0" checked=(editUser.groups[0].privilege == 0))
							| Read 
							span.help-inline Default user privilege
						.radio: label
							input(type='radio' name='privilege' value="1" checked=(editUser.groups[0].privilege == 1))
							| Write
							span.help-inline Ability to manage games
						.radio: label
							input(type='radio' name='privilege' value="2" checked=(editUser.groups[0].privilege == 2))
							| Admin
							span.help-inline Ability to manage games, users and groups
				.form-group.form-actions.text-center
					.col-sm-9.col-sm-offset-3
						input(type='hidden', value=editUser._id, name='userId')
						button.btn.btn-lg.btn-primary(type='submit' name="action" value="save") Save
						|  
						button.btn.btn-lg.btn-danger(type='submit' name="action" value="delete" data-toggle="confirm") Delete
						|  
						a.btn.btn-lg.btn-default(href='/users') Cancel